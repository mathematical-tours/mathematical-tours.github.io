%%%%%%%%%%%%%%%%%%%%%% INCLUDES %%%%%%%%%%%%%%%%
% Copyright (c) 2007 Gabriel Peyre


% MATHS (AMS)
\usepackage{amsmath}
\usepackage{amsfonts} 
\usepackage{amssymb}
\usepackage{amsthm}
% \usepackage{amsfonts, amssymb, amscd}
\usepackage{mathrsfs}

\usepackage{dsfont} %pour les indicatrices 


%\usepackage{mathptmx}
\usepackage{graphicx}
%\usepackage{subfigure}
\usepackage{array}
\usepackage{tabularx}
% indent beginning of paragraphs
\usepackage{indentfirst}

%Insert a space after ensuremath if needed
\usepackage{xspace}

\usepackage{xcolor}

% spacings
\renewcommand{\baselinestretch}{1}

\newtheorem{thm}{Theorem}
\newtheorem{prop}{Proposition}
\newtheorem{defn}{Definition}
\newtheorem{cor}{Corollary}
\newtheorem{lem}{Lemma}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newtheorem{exmp}{Example}
\newtheorem*{ass}{Main assumption}

\usepackage{float}
\floatstyle{boxed}
\newfloat{listing}{H}{loi}
\floatname{listing}{Table}

%%%%%%%%%%%%%%%% ENVIRONEMENTS %%%%%%%%%%%%%%%%
\newenvironment{rs}{\begin{list}{\rule[0.6ex]{1.3ex}{0.18ex}~}{
 \topsep=0.3ex \itemsep=0.3ex \labelsep=0em \parsep=0em
 \listparindent=1em \itemindent=0em
 \settowidth{\labelwidth}{--~} \leftmargin=\labelwidth
}}{\end{list}}


\newenvironment{rsfig}{\begin{list}{$\bullet$~}{
 \topsep=0.3ex \itemsep=0.3ex \labelsep=0em \parsep=0em
 \listparindent=1em \itemindent=0em
 \settowidth{\labelwidth}{\textbf{\textsf{(a)}}~} \leftmargin=\labelwidth
}}{\end{list}}

\newenvironment{rt}{\begin{list}{--~}{
 \topsep=0.3ex \itemsep=0.3ex \labelsep=0em \parsep=0em
 \listparindent=1em \itemindent=0em
 \settowidth{\labelwidth}{--~} \leftmargin=\labelwidth
}}{\end{list}}

\newenvironment{rn}[1]{\begin{list}{}{
 \topsep=0.5ex \itemsep=0.3ex \labelsep=0.3em \parsep=0ex
 \settowidth{\labelwidth}{(#1)}\listparindent=1em
 \leftmargin=\labelwidth \addtolength{\leftmargin}{2\labelsep}
}}{\end{list}}





%%%%%%%%%%%%%% MACROS %%%%%%%%%%%%
\newcommand{\guill}[1]{«~#1~»} % french
% \renewcommand{\guill}[1]{``#1''}	% US


%% Symboles avec double lignes
\newcommand{\NN}{\mathbb{N}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\GG}{\mathbb{G}}
\newcommand{\LL}{\mathbb{L}}
\newcommand{\PP}{\mathbb{P}}

\renewcommand{\SS}{\mathbb{S}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\VV}{\mathbb{V}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\FF}{\mathbb{F}}
\newcommand{\KK}{\mathbb{K}}
\newcommand{\TT}{\mathbb{T}}
\newcommand{\UU}{\mathbb{U}}
\newcommand{\EE}{\mathbb{E}}
%% Symboles arrondis
\newcommand{\Aa}{\mathcal{A}}
\newcommand{\Bb}{\mathcal{B}}
\newcommand{\Cc}{\mathcal{C}}
\newcommand{\Dd}{\mathcal{D}}
\newcommand{\Ee}{\mathcal{E}}
\newcommand{\Ff}{\mathcal{F}}
\newcommand{\Gg}{\mathcal{G}}
\newcommand{\Hh}{\mathcal{H}}
\newcommand{\Ii}{\mathcal{I}}
\newcommand{\Jj}{\mathcal{J}}
\newcommand{\Kk}{\mathcal{K}}
\newcommand{\Ll}{\mathcal{L}}
\newcommand{\Mm}{\mathcal{M}}
\newcommand{\Nn}{\mathcal{N}}
\newcommand{\Oo}{\mathcal{O}}
\newcommand{\Pp}{\mathcal{P}}
\newcommand{\Qq}{\mathcal{Q}}
\newcommand{\Rr}{\mathcal{R}}
\newcommand{\Ss}{\mathcal{S}}
\newcommand{\Tt}{\mathcal{T}}
\newcommand{\Uu}{\mathcal{U}}
\newcommand{\Vv}{\mathcal{V}}
\newcommand{\Ww}{\mathcal{W}}
\newcommand{\Xx}{\mathcal{X}}
\newcommand{\Yy}{\mathcal{Y}}
\newcommand{\Zz}{\mathcal{Z}}

% greek
\newcommand{\al}{\alpha}
\newcommand{\la}{\lambda}
\newcommand{\ga}{\gamma}
\newcommand{\Ga}{\Gamma}
\newcommand{\La}{\Lambda}
\newcommand{\si}{\sigma}
\newcommand{\Si}{\Sigma}
\newcommand{\be}{\beta}
\newcommand{\de}{\delta}
\newcommand{\De}{\Delta}
\renewcommand{\phi}{\varphi}
\renewcommand{\th}{\theta}
\newcommand{\om}{\omega}
\newcommand{\Om}{\Omega}

% hat, tilde
\newcommand{\hf}{\hat f}
\newcommand{\wtf}{\tilde f}
\newcommand{\tx}{\tilde x}
\newcommand{\tb}{\tilde b}
\newcommand{\ty}{\tilde y}
\newcommand{\tu}{\tilde u}
\newcommand{\tv}{\tilde v}
\newcommand{\tga}{\tilde \ga}
\newcommand{\tf}{\wt{f}}



%%%%%%%%%%%%%%% MATHS OPERATORS %%%%%%%%%%%%%%%%%
\newcommand{\ins}[1]{\mathrm{#1}}

\DeclareMathOperator{\realp}{\Rr e}
\DeclareMathOperator{\imagp}{\Ii m}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\Sign}{Sign}
\let\Im\relax
\DeclareMathOperator{\Im}{Im}
\DeclareMathOperator{\Corr}{Corr}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\supp}{Supp}

\DeclareMathOperator{\cas}{cas} \DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\cotan}{cotan}
\DeclareMathOperator{\Card}{Card}
\DeclareMathOperator{\PGCD}{PGCD}
\DeclareMathOperator{\Span}{Span}
\DeclareMathOperator{\Vect}{Vect}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\interop}{int}


% regularity
\newcommand{\Calpha}{\mathrm{C}^\al}
\newcommand{\Cbeta}{\mathrm{C}^\be}
\newcommand{\Cal}{\text{C}^\al}
\newcommand{\Cdeux}{\text{C}^{2}}
\newcommand{\Calt}[1]{\text{C}^{#1}}
\newcommand{\Cder}[1]{\mathscr{C}^{#1}}
% Lp spaces
\newcommand{\lun}{\ell^1}
\newcommand{\ldeux}{\ell^2}
\newcommand{\linf}{\ell^\infty}
\newcommand{\ldeuxj}{{\ldeux_j}}
\newcommand{\Lun}{\text{\upshape L}^1}
\newcommand{\Ldeux}{\text{\upshape L}^2}
\newcommand{\Linf}{\text{\upshape L}^\infty}
\newcommand{\lzero}{\ell^0}
\newcommand{\lp}{\ell^p}
% circle
\newcommand{\Sun}{\text{S}^1}
% little space after forall
\newcommand{\foralls}{\forall \,}
%% for derivatives
\renewcommand{\d}{\ins{d}}
%% Use french comparaison operator
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}


%%%%%%%%%%%%%%% MATHS CONSTRUCTS %%%%%%%%%%%%%%%

%% over-symbols
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\whwh}[1]{\hat{\hat{#1}}}
\newcommand{\wt}[1]{\widetilde{#1}}
%% partial derivatives
\newcommand{\pd}[2]{ \frac{ \partial #1}{\partial #2} }
\newcommand{\pdd}[2]{ \frac{ \partial^2 #1}{\partial #2^2} }
%% nice epsilon
\renewcommand{\epsilon}{\varepsilon}
%% Pour avoir un joli i pour les complexes
\renewcommand{\imath}{\mathrm{i}}
\newcommand{\interior}[1]{\ensuremath{\overset{\circ}{#1}}}

%% Legendre symbol
\newcommand{\legsymb}[2]{ \genfrac{(}{)}{}{}{#1}{#2} }
%% exposant pour les ordinaux
\newcommand{\ordin}[2]{ ${#1}^{ \text{#2} }$ }
%% Dot product and cross product
% \newcommand{\dotp}[2]{ \left\langle #1,\,#2 \right\rangle }
\newcommand{\dotp}[2]{\langle #1,\,#2\rangle}
\newcommand{\dotps}[2]{\langle #1,\,#2\rangle}
\newcommand{\crossp}[2]{ #1 \hat #2 }
\newcommand{\seg}[2]{\llbracket #1,\,#2 \rrbracket}
\newcommand{\norm}[1]{|\!| #1 |\!|}
\newcommand{\normb}[1]{\Big|\!\Big| #1 \Big |\!\Big|}
\newcommand{\normB}[1]{\left|\!\left| #1 \right|\!\right|}
\DeclareMathOperator{\diverg}{div}
\DeclareMathOperator{\Prox}{Prox}
\newcommand{\normT}[1]{\norm{#1}_{\text{T}}}
\newcommand{\normu}[1]{\norm{#1}_{1}}
\newcommand{\normi}[1]{\norm{#1}_{\infty}}
\newcommand{\normig}[1]{\norm{#1}_{\infty,\Gg}}
\newcommand{\normd}[1]{\norm{#1}_{2}}
\newcommand{\normz}[1]{\norm{#1}_{0}}
\newcommand{\abs}[1]{| #1 |}
\newcommand{\absb}[1]{\Big| #1 \Big|}

%% Function definition
\newcommand{\func}[4]{ {\left\{  \begin{array}{ccc} #1 & \longrightarrow & #2 \\ #3 & \longmapsto & #4 \end{array}  \right.} }
% transpose
\newcommand{\transp}[1]{ {#1}^{\ins{T}} }
% l'identité
\newcommand{\Id}{\ins{Id}}
% egal par définition
\newcommand{\eqdef}{\ensuremath{\stackrel{\mbox{\upshape\tiny def.}}{=}}}
\newcommand{\eq}[1]{\begin{equation*}#1\end{equation*}}
\newcommand{\eql}[1]{\begin{equation}#1\end{equation}}

\DeclareMathOperator{\argmin}{argmin}
\DeclareMathOperator{\argmax}{argmax}
\newcommand{\uargmin}[1]{\underset{#1}{\argmin}\;}
\newcommand{\uargmax}[1]{\underset{#1}{\argmax}\;}
\newcommand{\umin}[1]{\underset{#1}{\min}\;}
\newcommand{\umax}[1]{\underset{#1}{\max}\;}
\newcommand{\usup}[1]{\underset{#1}{\sup}\;}

%% parenthesis
\newcommand{\pa}[1]{\left( #1 \right)}
\newcommand{\bpa}[1]{\big( #1 \big)}
\newcommand{\choice}[1]{ %
	\left\{ %
		\begin{array}{l} #1 \end{array} %
	\right. }
% ensembles
\newcommand{\ens}[1]{ \{ #1 \} }
\newcommand{\enscond}[2]{ \left\{ #1 \;;\; #2 \right\} }


%%%%%%%%%%%%%%% SPACES %%%%%%%%%%%%%%%%%
\newcommand{\qandq}{ \quad \text{and} \quad }
\newcommand{\qqandqq}{ \qquad \text{and} \qquad }
\newcommand{\qifq}{ \quad \text{if} \quad }
\newcommand{\qqifqq}{ \qquad \text{if} \qquad }
\newcommand{\qwhereq}{ \quad \text{where} \quad }
\newcommand{\qqwhereqq}{ \qquad \text{where} \qquad }
\newcommand{\qwithq}{ \quad \text{with} \quad }
\newcommand{\qqwithqq}{ \qquad \text{with} \qquad }
\newcommand{\qforq}{ \quad \text{for} \quad }
\newcommand{\qqforqq}{ \qquad \text{for} \qquad }
\newcommand{\qqsinceqq}{ \qquad \text{since} \qquad }
\newcommand{\qsinceq}{ \quad \text{since} \quad }
\newcommand{\qarrq}{\quad\Longrightarrow\quad}
\newcommand{\qqarrqq}{\quad\Longrightarrow\quad}
\newcommand{\qiffq}{\quad\Longleftrightarrow\quad}
\newcommand{\qqiffqq}{\qquad\Longleftrightarrow\qquad}
\newcommand{\qsubjq}{ \quad \text{subject to} \quad }
\newcommand{\qqsubjqq}{ \qquad \text{subject to} \qquad }
\newcommand{\qobjq}[1]{\quad \text{#1} \quad}
\newcommand{\qqobjqq}[1]{\quad \text{#1} \quad}
\newcommand{\qetq}{\qobjq{et}}
\newcommand{\qsiq}{\qobjq{si}}
\newcommand{\qqetqq}{\qqobjqq{et}}
\newcommand{\qouq}{\qobjq{où}}
\newcommand{\qqouqq}{\qqobjqq{où}}
\newcommand{\qqpourqq}{\qqobjqq{pour}}
\newcommand{\qavecq}{\qobjq{avec}}
\newcommand{\qqavecqq}{\qqobjqq{avec}}





% Restrictions
% Exemple: $ \rest{f}{ \Z } $
%\newcommand{\restr}[2]{ {#1\!\!\restriction}_{\!#2}}
\newcommand{\restr}[2]{ {#1\vert}_{#2}}

%%%%%%%%%%%%%%% FIGURE %%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% float params

%\setcounter{totalnumber}{7} 
%\setcounter{topnumber}{4}
%\setcounter{bottomnumber}{3}

% \floatsep: space left between floats.
% \textfloatsep: space between last top float or first bottom float and the text.
% \intextsep : space left on top and bottom of an in-text float.
% \dbltextfloatsep is \textfloatsep for 2 column output.
% \dblfloatsep is \floatsep for 2 column output.
% \abovecaptionskip: space above caption
% \belowcaptionskip: space below caption

%\setlength{\floatsep}{2mm} \setlength{\dblfloatsep}{2mm}
% \setlength{\textfloatsep}{0mm} \setlength{\dbltextfloatsep}{0mm}

% \setlength{\abovecaptionskip}{1mm}
% \setlength{\belowcaptionskip}{1mm}

%%%%%%%%%  specifics to this paper
%\usepackage{subfig}
\usepackage[numbers]{natbib}
%\usepackage{natbib}
\renewcommand\cite{\citep}
% for D_TV matrix
\usepackage{multirow}

%PFG/Tikz
%\usepackage{tikz}

% Operators
\newcommand{\TV}{\text{TV}}
\newcommand{\ARC}{\ensuremath{\mathbf{RC}}}
\newcommand{\IC}{\ensuremath{{\mathbf{IC}}}}
\newcommand{\RC}{\ensuremath{{\mathbf{RC}}}}
\newcommand{\FNam}{\ensuremath{\mathbf{IC}_0}}
\newcommand{\GJ}{\ensuremath{\Gg_J}\xspace}
\newcommand{\DIF}{\text{DIF}}
\newcommand{\bsup}{$\mathcal{B}$-support\xspace}
\newcommand{\bcosup}{$\mathcal{B}$-cosupport\xspace}
\newcommand{\SURE}{\mathrm{SURE}}
\newcommand{\DOF}{df}

\newcommand{\xx}{x}
\newcommand{\xxs}{x^\star}

\newcommand{\sol}[2]{\xx_{#2}(#1)}
\newcommand{\solp}[2]{\hat{\xx}_{#2}({#1})}
\newcommand{\xsol}{\ensuremath{\sol{Y}{\lambda}}\xspace}

\newcommand{\xsoly}{\xx_\lambda^\star}
\newcommand{\xsolyL}{\xx_{\bar \lambda}^\star}
\newcommand{\solSY}{\xx_{\lambda}(\bar{y})}
\newcommand{\solSp}{\xx(y)}

\newcommand{\solm}{\hat{\xx}}
\newcommand{\solmB}{\solm(\bar y, \bar \lambda)}

\newcommand{\lassoP}[2]{\ensuremath{\Pp_{#2}(#1)}\xspace}
\newcommand{\lasso}{\lassoP{y}{\lambda}}
\newcommand{\lassoB}{\lassoP{\bar y}{\bar \lambda}}
\newcommand{\bp}{\lassoP{y}{0}}

\newcommand{\UJP}{U}
\newcommand{\GJP}{{\Gg_{J^\star}}}
\newcommand{\AJP}{A^{[{J^\star}]}}
\newcommand{\BJP}{\Pi^{[J^\star]}}

\newcommand{\subd}[1]{\partial #1}
\newcommand{\obj}{\Ll_{y, \lambda}}
\newcommand{\Sig}{{\Sigma_{y, \lambda}}}
\newcommand{\minform}{\dfrac{1}{2} \norm{y - \XX y}_2^2 + \lambda \normu{D^* x}}

\newcommand{\signxx}{{\sign(D^* x_0)}}
\newcommand{\AJ}{A^{[J]}}
\newcommand{\BJ}{\Pi}
\newcommand{\CJ}{\Omega}
\newcommand{\CJJ}{\tilde{\Omega}^{[J]}}
\newcommand{\PIJ}{\tilde{\Pi}^{[J]}}
\newcommand{\UJ}{U}
\newcommand{\PJ}{\mathrm{p}^J}
\newcommand{\Ys}{\mathcal{Y}_{\lambda}}

\theoremstyle{plain}
\newtheorem*{thm-nonum}{Theorem}
\newtheorem*{emp}{Empirical observation}

% Draft
\newcommand{\todo}[1]{\textbf{\textcolor{red}{[ToDo: #1]}}}
\newcommand{\nref}{\textcolor{blue}{REF?}}
\newcommand{\jalal}[1]{\textcolor{red}{[Jalal : #1]}}
\newcommand{\charles}[1]{\textcolor{blue}{[Charles : #1]}}

% L1-L2
\DeclareMathOperator{\df}{df}
\newcommand{\normg}[1]{\norm{{#1}}_{\Bb}}
\newcommand{\CSJ}{\overline{\mathcal{S}}(J)}
\newcommand{\SJ}{\mathcal{S}(J)}
\newcommand{\uu}{\mathbf{u}}
\newcommand{\rr}{\mathbf{r}}
\newcommand{\di}{\mathrm{d}}
\newcommand{\clball}[1]{\mathbf{B}(0_{#1},1)}

\newcommand{\XX}{\Phi}
\newcommand{\XXX}{\XX_I^{\ins{T}} \XX_I^{}}
\newcommand{\bs}{\supp_{\Bb}}

\newcommand{\yl}{(y,\lambda)}
\newcommand{\ylv}{(\bar y, \bar \lambda)}
\newcommand{\solSS}{\xx_{\bar{\lambda}}(\bar{y})}

\newcommand{\cnd}{\Delta}

% BV space
\newcommand{\BVN}{\mathrm{BV}\left(\mathbb{R}^N\right)}
\newcommand{\BVD}{\mathrm{BV}\left(\mathbb{R}^2\right)}
\newcommand{\LDN}{\mathrm{L}^2\left(\mathbb{R}^N\right)}
\newcommand{\LIN}{\mathrm{L}^\infty\left(\mathbb{R}^N\right)}
\newcommand{\LDD}{\mathrm{L}^2\left(\mathbb{R}^2\right)}
\newcommand{\XD}{\mathrm{X}_2\left(\mathbb{R}^N\right)}
%\let\div\relax
\DeclareMathOperator{\divx}{div}  % divergence
\DeclareMathOperator{\ess}{ess}  % 
\newcommand{\bun}[1]{\mathds{1}_{#1}}
\newcommand{\normLdeux}[1]{\norm{#1}_{L^2}}
\newcommand{\normLinf}[1]{\norm{#1}_{L^\infty}}


\newcommand{\normTV}[1]{\norm{#1}_{\text{\upshape TV}}}
\newcommand{\normTVG}[1]{ \norm{#1}_{\text{\upshape TV},\Gg} }

\newcommand{\HNU}[1]{\Hh^{N-1}\left({#1}\right)}
\newcommand{\HNu}{\Hh^{N-1}}

% Certificate coordinates
\newcommand{\pcertif}[1]{ p_{\text{\upshape \tiny #1}} }
\newcommand{\pF}{\pcertif{F}}
\newcommand{\pV}{\pcertif{V}}
\newcommand{\pCF}{\pcertif{CF}}
% Certificats
\newcommand{\certif}[1]{ \eta_{\text{\upshape \tiny #1}} }
\newcommand{\etaF}{\certif{F}}
\newcommand{\etaV}{\certif{V}}
\newcommand{\etaCF}{\certif{CF}}
%Support etendu
\DeclareMathOperator{\extg}{Ext_\Gg}  % support etendu
\DeclareMathOperator{\extsg}{Ext^\pm_\Gg}  % support etendu
\DeclareMathOperator{\ext}{Ext}  % support etendu
\DeclareMathOperator{\exts}{Ext^\pm}  % support etendu
\DeclareMathOperator{\ssupp}{Supp^{\pm}}  % support signŽ


\newcommand{\diff}{\mathrm{d}}
\newcommand{\smallo}[1]{o\mathopen{}\left(#1\right)}
\newcommand{\bigO}[1]{O\mathopen{}\left(#1\right)}

%\selectcolormodel{rgb}
%\definecolor{grey55}{RGB}{140, 140, 140}  %  title grey
%\definecolor{grey99}{RGB}{200, 200, 200}  %  body alerted grey
\newenvironment{detail}{%
  \color{gray}\paragraph{Detail:}~\\
}
%\DeclareMathOperator{\diff}{d}

\newcommand{\eli}{E_\la^{(i)}} 
\newcommand{\jke}{J_k^{\varepsilon}}

\newcommand{\vlaw}{v_{\la,w}}
\newcommand{\vla}{v_{\la}}
\newcommand{\ulaw}{u_{\la,w}}
\newcommand{\ula}{u_{\la}}

\newcommand{\deltar}{\delta_r}
\newcommand{\deltard}{\delta_{r/2}}

\newcommand{\E}[1]{E^{(#1)}}
